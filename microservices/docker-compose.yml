services:
  # MySQL Databases
  mysql-user:
    image: mysql:8.0
    container_name: mysql-user
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: user_db
    ports:
      - "3307:3306"
    networks:
      - health-tourism-network

  mysql-hospital:
    image: mysql:8.0
    container_name: mysql-hospital
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: hospital_db
    ports:
      - "3308:3306"
    networks:
      - health-tourism-network

  mysql-doctor:
    image: mysql:8.0
    container_name: mysql-doctor
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: doctor_db
    ports:
      - "3309:3306"
    networks:
      - health-tourism-network

  mysql-accommodation:
    image: mysql:8.0
    container_name: mysql-accommodation
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: accommodation_db
    ports:
      - "3310:3306"
    networks:
      - health-tourism-network

  mysql-flight:
    image: mysql:8.0
    container_name: mysql-flight
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: flight_db
    ports:
      - "3311:3306"
    networks:
      - health-tourism-network

  mysql-car-rental:
    image: mysql:8.0
    container_name: mysql-car-rental
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: car_rental_db
    ports:
      - "3312:3306"
    networks:
      - health-tourism-network

  mysql-transfer:
    image: mysql:8.0
    container_name: mysql-transfer
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: transfer_db
    ports:
      - "3313:3306"
    networks:
      - health-tourism-network

  mysql-package:
    image: mysql:8.0
    container_name: mysql-package
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: package_db
    ports:
      - "3314:3306"
    networks:
      - health-tourism-network

  mysql-reservation:
    image: mysql:8.0
    container_name: mysql-reservation
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: reservation_db
    ports:
      - "3315:3306"
    networks:
      - health-tourism-network

  mysql-payment:
    image: mysql:8.0
    container_name: mysql-payment
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: payment_db
    ports:
      - "3316:3306"
    networks:
      - health-tourism-network

  mysql-notification:
    image: mysql:8.0
    container_name: mysql-notification
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: notification_db
    ports:
      - "3317:3306"
    networks:
      - health-tourism-network

  mysql-medical-document:
    image: mysql:8.0
    container_name: mysql-medical-document
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: medical_document_db
    ports:
      - "3318:3306"
    networks:
      - health-tourism-network

  mysql-telemedicine:
    image: mysql:8.0
    container_name: mysql-telemedicine
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: telemedicine_db
    ports:
      - "3319:3306"
    networks:
      - health-tourism-network

  mysql-patient-followup:
    image: mysql:8.0
    container_name: mysql-patient-followup
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: patient_followup_db
    ports:
      - "3320:3306"
    networks:
      - health-tourism-network

  mysql-blog:
    image: mysql:8.0
    container_name: mysql-blog
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: blog_db
    ports:
      - "3321:3306"
    networks:
      - health-tourism-network

  mysql-faq:
    image: mysql:8.0
    container_name: mysql-faq
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: faq_db
    ports:
      - "3322:3306"
    networks:
      - health-tourism-network

  mysql-favorite:
    image: mysql:8.0
    container_name: mysql-favorite
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: favorite_db
    ports:
      - "3323:3306"
    networks:
      - health-tourism-network

  mysql-appointment-calendar:
    image: mysql:8.0
    container_name: mysql-appointment-calendar
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: appointment_calendar_db
    ports:
      - "3324:3306"
    networks:
      - health-tourism-network

  mysql-contact:
    image: mysql:8.0
    container_name: mysql-contact
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: contact_db
    ports:
      - "3325:3306"
    networks:
      - health-tourism-network

  mysql-testimonial:
    image: mysql:8.0
    container_name: mysql-testimonial
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: testimonial_db
    ports:
      - "3326:3306"
    networks:
      - health-tourism-network

  mysql-gallery:
    image: mysql:8.0
    container_name: mysql-gallery
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: gallery_db
    ports:
      - "3327:3306"
    networks:
      - health-tourism-network

  mysql-insurance:
    image: mysql:8.0
    container_name: mysql-insurance
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: insurance_db
    ports:
      - "3328:3306"
    networks:
      - health-tourism-network

  mysql-auth:
    image: mysql:8.0
    container_name: mysql-auth
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: auth_db
    ports:
      - "3329:3306"
    networks:
      - health-tourism-network

  mysql-monitoring:
    image: mysql:8.0
    container_name: mysql-monitoring
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: monitoring_db
    ports:
      - "3330:3306"
    networks:
      - health-tourism-network

  mysql-logging:
    image: mysql:8.0
    container_name: mysql-logging
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: logging_db
    ports:
      - "3331:3306"
    networks:
      - health-tourism-network

  mysql-file-storage:
    image: mysql:8.0
    container_name: mysql-file-storage
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: file_storage_db
    ports:
      - "3333:3306"
    networks:
      - health-tourism-network

  mysql-admin:
    image: mysql:8.0
    container_name: mysql-admin
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: admin_db
    ports:
      - "3335:3306"
    networks:
      - health-tourism-network

  mysql-visa-consultation:
    image: mysql:8.0
    container_name: mysql-visa-consultation
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: visa_consultation_db
    ports:
      - "3324:3306"
    networks:
      - health-tourism-network

  mysql-translation:
    image: mysql:8.0
    container_name: mysql-translation
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: translation_db
    ports:
      - "3325:3306"
    networks:
      - health-tourism-network

  mysql-currency:
    image: mysql:8.0
    container_name: mysql-currency
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: currency_db
    ports:
      - "3326:3306"
    networks:
      - health-tourism-network

  mysql-chat:
    image: mysql:8.0
    container_name: mysql-chat
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: chat_db
    ports:
      - "3327:3306"
    networks:
      - health-tourism-network

  mysql-promotion:
    image: mysql:8.0
    container_name: mysql-promotion
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: promotion_db
    ports:
      - "3328:3306"
    networks:
      - health-tourism-network

  redis:
    image: redis:7-alpine
    container_name: redis
    ports:
      - "6379:6379"
    networks:
      - health-tourism-network
    command: redis-server --appendonly yes

  rabbitmq:
    image: rabbitmq:3-management-alpine
    container_name: rabbitmq
    environment:
      RABBITMQ_DEFAULT_USER: admin
      RABBITMQ_DEFAULT_PASS: admin
    ports:
      - "5672:5672"
      - "15672:15672"
    networks:
      - health-tourism-network

  zipkin:
    image: openzipkin/zipkin
    container_name: zipkin
    ports:
      - "9411:9411"
    networks:
      - health-tourism-network
    environment:
      - STORAGE_TYPE=mem

  # New Services Databases
  mysql-comparison:
    image: mysql:8.0
    container_name: mysql-comparison
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: comparison_db
    ports:
      - "3336:3306"
    networks:
      - health-tourism-network

  mysql-analytics:
    image: mysql:8.0
    container_name: mysql-analytics
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: analytics_db
    ports:
      - "3337:3306"
    networks:
      - health-tourism-network

  mysql-health-records:
    image: mysql:8.0
    container_name: mysql-health-records
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: health_records_db
    ports:
      - "3338:3306"
    networks:
      - health-tourism-network

  mysql-medication:
    image: mysql:8.0
    container_name: mysql-medication
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: medication_db
    ports:
      - "3339:3306"
    networks:
      - health-tourism-network

  mysql-referral:
    image: mysql:8.0
    container_name: mysql-referral
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: referral_db
    ports:
      - "3340:3306"
    networks:
      - health-tourism-network

  mysql-coupon:
    image: mysql:8.0
    container_name: mysql-coupon
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: coupon_db
    ports:
      - "3341:3306"
    networks:
      - health-tourism-network

  mysql-waiting-list:
    image: mysql:8.0
    container_name: mysql-waiting-list
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: waiting_list_db
    ports:
      - "3342:3306"
    networks:
      - health-tourism-network

  mysql-loyalty:
    image: mysql:8.0
    container_name: mysql-loyalty
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: loyalty_db
    ports:
      - "3343:3306"
    networks:
      - health-tourism-network

  mysql-forum:
    image: mysql:8.0
    container_name: mysql-forum
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: forum_db
    ports:
      - "3344:3306"
    networks:
      - health-tourism-network

  mysql-invoice:
    image: mysql:8.0
    container_name: mysql-invoice
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: invoice_db
    ports:
      - "3345:3306"
    networks:
      - health-tourism-network

  mysql-video-consultation:
    image: mysql:8.0
    container_name: mysql-video-consultation
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: video_consultation_db
    ports:
      - "3346:3306"
    networks:
      - health-tourism-network

  mysql-social-media:
    image: mysql:8.0
    container_name: mysql-social-media
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: social_media_db
    ports:
      - "3347:3306"
    networks:
      - health-tourism-network

  mysql-whatsapp:
    image: mysql:8.0
    container_name: mysql-whatsapp
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: whatsapp_db
    ports:
      - "3348:3306"
    networks:
      - health-tourism-network

  mysql-live-chat:
    image: mysql:8.0
    container_name: mysql-live-chat
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: live_chat_db
    ports:
      - "3349:3306"
    networks:
      - health-tourism-network

  mysql-review:
    image: mysql:8.0
    container_name: mysql-review
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: review_db
    ports:
      - "3350:3306"
    networks:
      - health-tourism-network

  mysql-post-treatment:
    image: mysql:8.0
    container_name: mysql-post-treatment
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: post_treatment_db
    ports:
      - "3351:3306"
    networks:
      - health-tourism-network

  mysql-influencer:
    image: mysql:8.0
    container_name: mysql-influencer
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: influencer_db
    ports:
      - "3352:3306"
    networks:
      - health-tourism-network

  mysql-affiliate:
    image: mysql:8.0
    container_name: mysql-affiliate
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: affiliate_db
    ports:
      - "3353:3306"
    networks:
      - health-tourism-network

  mysql-gamification:
    image: mysql:8.0
    container_name: mysql-gamification
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: gamification_db
    ports:
      - "3354:3306"
    networks:
      - health-tourism-network

  # New Game Changer Services Databases
  mysql-virtual-tour:
    image: mysql:8.0
    container_name: mysql-virtual-tour
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: virtual_tour_db
    ports:
      - "3341:3306"
    networks:
      - health-tourism-network

  mysql-iot-monitoring:
    image: mysql:8.0
    container_name: mysql-iot-monitoring
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: iot_monitoring_db
    ports:
      - "3342:3306"
    networks:
      - health-tourism-network

  # New Advanced Features Databases
  mysql-cost-predictor:
    image: mysql:8.0
    container_name: mysql-cost-predictor
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: cost_predictor_db
    ports:
      - "3343:3306"
    networks:
      - health-tourism-network

  mysql-legal-ledger:
    image: mysql:8.0
    container_name: mysql-legal-ledger
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: legal_ledger_db
    ports:
      - "3344:3306"
    networks:
      - health-tourism-network

  mysql-ai-health-companion:
    image: mysql:8.0
    container_name: mysql-ai-health-companion
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: ai_health_companion_db
    ports:
      - "3345:3306"
    networks:
      - health-tourism-network

  # Patient Risk Scoring & Health Wallet Databases
  mysql-patient-risk-scoring:
    image: mysql:8.0
    container_name: mysql-patient-risk-scoring
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: patient_risk_scoring_db
    ports:
      - "3346:3306"
    networks:
      - health-tourism-network
    # Resource limits for IoT data processing
    deploy:
      resources:
        limits:
          memory: 512M
        reservations:
          memory: 256M

  mysql-health-wallet:
    image: mysql:8.0
    container_name: mysql-health-wallet
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: health_wallet_db
    ports:
      - "3347:3306"
    networks:
      - health-tourism-network

  mysql-privacy-compliance:
    image: mysql:8.0
    container_name: mysql-privacy-compliance
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: privacy_compliance_db
    ports:
      - "3348:3306"
    networks:
      - health-tourism-network

  mysql-security-audit:
    image: mysql:8.0
    container_name: mysql-security-audit
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: security_audit_db
    ports:
      - "3349:3306"
    networks:
      - health-tourism-network

  mysql-secret-management:
    image: mysql:8.0
    container_name: mysql-secret-management
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: secret_management_db
    ports:
      - "3350:3306"
    networks:
      - health-tourism-network

  mysql-multi-tenancy:
    image: mysql:8.0
    container_name: mysql-multi-tenancy
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: multi_tenancy_db
    ports:
      - "3351:3306"
    networks:
      - health-tourism-network

  mysql-fhir-adapter:
    image: mysql:8.0
    container_name: mysql-fhir-adapter
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: fhir_adapter_db
    ports:
      - "3352:3306"
    networks:
      - health-tourism-network

  mysql-audit-report:
    image: mysql:8.0
    container_name: mysql-audit-report
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: audit_report_db
    ports:
      - "3353:3306"
    networks:
      - health-tourism-network

  mysql-api-key-manager:
    image: mysql:8.0
    container_name: mysql-api-key-manager
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: api_key_manager_db
    ports:
      - "3354:3306"
    networks:
      - health-tourism-network

  redis:
    image: redis:7-alpine
    container_name: redis
    ports:
      - "6379:6379"
    networks:
      - health-tourism-network

  # Main Database for Monolithic Application
  mysql-main:
    image: mysql:8.0
    container_name: mysql-main
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: health_tourism
    ports:
      - "3306:3306"
    networks:
      - health-tourism-network
    volumes:
      - mysql-main-data:/var/lib/mysql
    healthcheck:
      test: ["CMD", "mysqladmin", "ping", "-h", "localhost"]
      interval: 10s
      timeout: 5s
      retries: 5

networks:
  health-tourism-network:
    driver: bridge

volumes:
  mysql-main-data:

